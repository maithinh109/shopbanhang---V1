@model Shopbanhang.Models.Order
@{
    ViewBag.Title = "trangthaidonhang";
    Layout = "~/Areas/Admin/Views/Shared/Layoutadmin.cshtml";
}



<div class="container">
    <h2>Thay đổi trạng thái đơn hàng</h2>

    <div>

        <form href="~/Orders/trangthaidonhang/@Model.OrderId" method="post">
            <div class="form-horizontal">
                <h4>Thay đổi trạng thái cho đơn hàng @Model.OrderId</h4>
                <hr />
                <div class="form-group">
                    @Html.LabelFor(model => model.TransactStatusId, "Trạng thái", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DropDownList("trangthai", null, htmlAttributes: new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.TransactStatusId, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Save" class="btn btn-default" />
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>

</div>
<script>
    $('#saveChangesBtn').on('click', function () {
        var form = $('#updateStatusForm');
        $.ajax({
            url: '/Admin/OrdersAdmin/trangthaidonhang',
            type: 'POST',
            data: form.serialize(),
            success: function (result) {
                location.reload();  // Reload the page to see changes
            },
            error: function (xhr, status, error) {
                console.error('Error updating status:', error);
            }
        });
    });
</script>

